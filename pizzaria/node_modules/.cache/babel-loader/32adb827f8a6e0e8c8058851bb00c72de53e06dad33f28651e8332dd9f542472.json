{"ast":null,"code":"var _jsxFileName = \"/home/princevegeta/Documentos/sl/Projeto-Restaurante-BD2/pizzaria/src/components/UsePoints.js\",\n  _s = $RefreshSig$();\n// src/components/UsePoints.js\n\nimport React, { useState, useEffect } from 'react';\nimport styles from '../styles/UsePoints.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UsePoints() {\n  _s();\n  const [clients, setClients] = useState([]);\n  const [selectedClientId, setSelectedClientId] = useState('');\n  const [dishes, setDishes] = useState([]);\n  const [selectedDishId, setSelectedDishId] = useState('');\n  const [pointsUsed, setPointsUsed] = useState(0);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    // Simulação de busca de clientes\n    fetch('/api/clients').then(response => response.json()).then(data => setClients(data));\n\n    // Simulação de busca de pratos\n    fetch('/api/dishes').then(response => response.json()).then(data => setDishes(data));\n  }, []);\n  const handleUsePoints = () => {\n    // Lógica para utilizar pontos e adquirir prato\n    const selectedClient = clients.find(client => client.id === selectedClientId);\n    if (selectedClient && selectedDishId) {\n      const dish = dishes.find(dish => dish.id === selectedDishId);\n      if (dish) {\n        const totalPointsNeeded = Math.ceil(dish.valor); // Usar centavos como 1 ponto extra\n        if (selectedClient.pontos >= totalPointsNeeded) {\n          // Aqui você faria a lógica de atualizar os pontos e registrar a venda\n          setMessage(`Prato ${dish.nome} adquirido com sucesso!`);\n          // Atualizar pontos do cliente...\n        } else {\n          setMessage('Pontos insuficientes para adquirir este prato.');\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: styles.title,\n      children: \"Uso de Pontos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.formGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.label,\n        children: \"Selecione o Cliente:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedClientId,\n        onChange: e => setSelectedClientId(e.target.value),\n        className: styles.inputField,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione um cliente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: client.id,\n          children: client.nome\n        }, client.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.formGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: styles.label,\n        children: \"Selecione o Prato:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedDishId,\n        onChange: e => setSelectedDishId(e.target.value),\n        className: styles.inputField,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione um prato\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), dishes.map(dish => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: dish.id,\n          children: [dish.nome, \" - R$\", dish.valor.toFixed(2)]\n        }, dish.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUsePoints,\n      className: styles.btnUsePoints,\n      children: \"Usar Pontos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.message,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(UsePoints, \"2alXUTilqdlijQaOEc95VaAno3c=\");\n_c = UsePoints;\nexport default UsePoints;\nvar _c;\n$RefreshReg$(_c, \"UsePoints\");","map":{"version":3,"names":["React","useState","useEffect","styles","jsxDEV","_jsxDEV","UsePoints","_s","clients","setClients","selectedClientId","setSelectedClientId","dishes","setDishes","selectedDishId","setSelectedDishId","pointsUsed","setPointsUsed","message","setMessage","fetch","then","response","json","data","handleUsePoints","selectedClient","find","client","id","dish","totalPointsNeeded","Math","ceil","valor","pontos","nome","className","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","formGroup","label","value","onChange","e","target","inputField","map","toFixed","onClick","btnUsePoints","_c","$RefreshReg$"],"sources":["/home/princevegeta/Documentos/sl/Projeto-Restaurante-BD2/pizzaria/src/components/UsePoints.js"],"sourcesContent":["// src/components/UsePoints.js\n\nimport React, { useState, useEffect } from 'react';\nimport styles from '../styles/UsePoints.module.css';\n\nfunction UsePoints() {\n    const [clients, setClients] = useState([]);\n    const [selectedClientId, setSelectedClientId] = useState('');\n    const [dishes, setDishes] = useState([]);\n    const [selectedDishId, setSelectedDishId] = useState('');\n    const [pointsUsed, setPointsUsed] = useState(0);\n    const [message, setMessage] = useState('');\n\n    useEffect(() => {\n        // Simulação de busca de clientes\n        fetch('/api/clients')\n            .then(response => response.json())\n            .then(data => setClients(data));\n        \n        // Simulação de busca de pratos\n        fetch('/api/dishes')\n            .then(response => response.json())\n            .then(data => setDishes(data));\n    }, []);\n\n    const handleUsePoints = () => {\n        // Lógica para utilizar pontos e adquirir prato\n        const selectedClient = clients.find(client => client.id === selectedClientId);\n        if (selectedClient && selectedDishId) {\n            const dish = dishes.find(dish => dish.id === selectedDishId);\n            if (dish) {\n                const totalPointsNeeded = Math.ceil(dish.valor); // Usar centavos como 1 ponto extra\n                if (selectedClient.pontos >= totalPointsNeeded) {\n                    // Aqui você faria a lógica de atualizar os pontos e registrar a venda\n                    setMessage(`Prato ${dish.nome} adquirido com sucesso!`);\n                    // Atualizar pontos do cliente...\n                } else {\n                    setMessage('Pontos insuficientes para adquirir este prato.');\n                }\n            }\n        }\n    };\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.title}>Uso de Pontos</h1>\n            <div className={styles.formGroup}>\n                <label className={styles.label}>Selecione o Cliente:</label>\n                <select\n                    value={selectedClientId}\n                    onChange={(e) => setSelectedClientId(e.target.value)}\n                    className={styles.inputField}\n                >\n                    <option value=\"\">Selecione um cliente</option>\n                    {clients.map(client => (\n                        <option key={client.id} value={client.id}>{client.nome}</option>\n                    ))}\n                </select>\n            </div>\n            <div className={styles.formGroup}>\n                <label className={styles.label}>Selecione o Prato:</label>\n                <select\n                    value={selectedDishId}\n                    onChange={(e) => setSelectedDishId(e.target.value)}\n                    className={styles.inputField}\n                >\n                    <option value=\"\">Selecione um prato</option>\n                    {dishes.map(dish => (\n                        <option key={dish.id} value={dish.id}>{dish.nome} - R${dish.valor.toFixed(2)}</option>\n                    ))}\n                </select>\n            </div>\n            <button onClick={handleUsePoints} className={styles.btnUsePoints}>Usar Pontos</button>\n            {message && <p className={styles.message}>{message}</p>}\n        </div>\n    );\n}\n\nexport default UsePoints;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}